@import '../border';
@import '../colors';
@import '../space';

@mixin ch-card-support ($position: left, $color: ch-get-color(border)) {
  position: relative;

  &:before,
  &:after {
    $empty: '';

    display: block;
    position: absolute;

    content: $empty;

    @if $position == top or $position == left {  
      border-top-left-radius: #{ch-get-border-radius(2)};
    }

    @if $position == top or $position == right {
      border-top-right-radius: #{ch-get-border-radius(2)};
    }

    @if $position == bottom or $position == right {  
      border-bottom-right-radius: #{ch-get-border-radius(2)};
    }

    @if $position == bottom or $position == left {
      border-bottom-left-radius: #{ch-get-border-radius(2)};
    }
  }

  &:before {
    background: $color;

    @if $position == top or $position == left {
      top: calc(-1 * #{$ch-border-width});
      left: calc(-1 * #{$ch-border-width});
    }

    @if $position == bottom or $position == right {
      bottom: calc(-1 * #{$ch-border-width});
      right: calc(-1 * #{$ch-border-width});
    }

    @if $position == top or $position == bottom {
      width: calc(100% + 2 * #{$ch-border-width});
      height: calc(2 * #{ch-get-space(xxs)});
    }

    @if $position == right or $position == left {
      width: calc(2 * #{ch-get-space(xxs)});
      height: calc(100% + 2 * #{$ch-border-width});
    }
  }

  &:after {
    background: #{ch-get-color(neutral, 1)};

    @if $position == top or $position == left {
      top: 0;
      left: #{ch-get-space(xxs)};
    }

    @if $position == bottom or $position == right {
      bottom: 0;
      right: #{ch-get-space(xxs)};
    }

    @if $position == top or $position == bottom {
      width: 100%;
      height: #{ch-get-space(xxs)};
    }

    @if $position == right or $position == left {
      width: #{ch-get-space(xxs)};
      height: 100%;
    }
  }
}
