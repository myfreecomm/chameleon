@use '../../foundation/spaces' as spaces;
@use '../icon' as icon;

@mixin horizontal {
  display: flex;
  flex-wrap: nowrap;
  align-items: stretch;

  overflow-x: auto;

  > .ch-menu-item:not(.ch-menu-item--icon),
  > .ch-menu-submenu {
    width: auto;
  }

  > .ch-menu-item:not(.ch-menu-item--icon),
  > .ch-menu-submenu > .ch-menu-item:not(.ch-menu-item--icon) {
    white-space: nowrap;
  }

  > .ch-menu-submenu {
    > .ch-menu,
    &.is-open > .ch-menu {
      display: none;
    }
  }

  > .ch-menu-item.is-active:before,
  > .ch-menu-submenu > .ch-menu-item.is-active:before {
    top: auto;
    bottom: spaces.get-space(xxs);
    left: 50%;
    transform: translate(-50%, 0);

    width: calc(100% - 2 * #{spaces.get-space(xs)});
    min-width: icon.get-icon-size(m);
    height: spaces.get-space(xxs);
  }

  > .ch-menu-item.ch-menu-item--icon.is-active:before,
  > .ch-menu-submenu > .ch-menu-item.ch-menu-item--icon.is-active:before {
    width: icon.get-icon-size(m);
  }
}
