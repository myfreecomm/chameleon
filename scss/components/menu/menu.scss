.ch-menu {

  // 1. item

  &-item {
    @include ch-space-inset(squish, m);

    display: block;
    width: 100%;
    position: relative;
    text-align: left;

    cursor: pointer;

    &,
    &:focus:hover,
    &:focus,
    &:hover,
    &:active {
      color: ch-get-color(text, 1);
    }

    // 1.1. Focus interaction

    &:focus:hover,
    &:hover,
    &:focus {
      background: ch-get-color(neutral, 2);
    }

    // 1.2. Icon variation

    &#{&}--icon {
      $size: ch-calc-box-height(ch-get-text-size(2), ch-get-space(s));

      @include ch-paddingless(true);

      position: relative;

      width: #{$size};
      min-width: #{$size};
      min-height: #{$size};

      > * {
        display: none;
      }

      > .ch-icon:first-child,
      > .ch-avatar,
      > .ch-toggle-icon {
        position: absolute;
        display: block;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }
    }

    // 1.3. Label

    &-label {
      display: block;
    }

    // 1.4. Has icon

    &.has-leadingIcon {
      padding-left: #{ch-get-dimension(1)} !important;

      > .ch-icon:first-child {
        left: calc((#{ch-get-dimension(1)}) / 2);
      }
    }

    &.has-trailingIcon {
      padding-right: #{ch-get-dimension(1)} !important;

      > .ch-icon:first-child {
        right: calc((#{ch-get-dimension(1)}) / 2);
      }
    }

    // 1.5. Active state

    &.is-active {
      font-weight: #{ch-get-text-weight(bold)};
    }
  }

  // 2. Active item bar

  > .ch-menu-item.is-active:before,
  > .ch-menu-submenu > .ch-menu-item.is-active:before {
    @include ch-transition(opacity);
    @include ch-border-radius(circle);

    display: block;
    position: absolute;
    top: 50%;
    left: ch-get-space(xxs);
    width: ch-get-space(xxs);
    height: ch-get-icon-size();
    transform: translate(0, -50%);

    content: '';
    background: ch-get-color(brand);
    opacity: 1;
  }

  // 3. Submenu

  &-submenu {

    // 3.1. Menu

    > .ch-menu {
      display: none;

      // 3.1.1. Item

      .ch-menu-item {
        padding-left: ch-get-dimension(1);
      }
    }

    // 3.2. Arrow

    > .ch-menu-item > .ch-menu-item-arrow {
      @include ch-transition(transform, $ch-transition-duration-fast);

      transform: translate(50%, -50%);
    }

    // 3.3. Open state

    &.is-open {

      // 3.3.1. Menu

      > .ch-menu {
        display: block;

        animation:
          --ch-fade-in
          #{$ch-transition-duration-normal}
          #{$ch-transition-timing-function};
      }

      @keyframes --ch-fade-in {
        0% {
          opacity: 0;
        }

        100% {
          opacity: 1;
        }
      }

      // 3.3.2. Item

      > .ch-menu-item {
        opacity: 1;

        // 3.3.2.1. Sidebar

        &.is-active {
          font-weight: ch-get-text-weight(normal);

          &:before {
            opacity: 0;
          }
        }

        // 3.3.2.2. Arrow

        > .ch-menu-item-arrow {
          transform: translate(50%, -50%) rotate(90deg);
        }
      }
    }
  }

  // 4. Horizontal variation

  &--horizontal {
    @include ch-menu-horizontal;
  }
}
