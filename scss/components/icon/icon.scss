.ch-icon {

  // 1. Base

  text-align: center;

  // 2. Circle variation

  &--circle {
    @include ch-border-radius(circle);

    color: #{ch-get-color(neutral, 1)};
    background-color: #{ch-get-color(default)};
  }

  // 3. Size variations

  @each $size in $ch-icon-sizes {
    $posfix: ch-generate-variation(($size), (m));
    $path: if($size != m, #{&}#{&}#{$posfix}, #{&});

    @at-root #{$path} {
      font-size: ch-get-icon-size($size);
      width: ch-get-icon-size($size);

      &.ch-icon--circle {
        $sqrt2: 1.41421356237;
        $size: calc(#{ch-get-icon-size($size)} * #{$sqrt2} + #{ch-get-space(xxs)});

        height: $size;
        width: $size;
        line-height: $size;
        vertical-align: middle;
      }
    }
  }
}
