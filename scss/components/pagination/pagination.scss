@use '../../foundation/borders' as borders;
@use '../../foundation/breakpoints' as breakpoints;
@use '../../foundation/colors' as colors;
@use '../../foundation/spaces' as spaces;
@use '../../foundation/sizes' as sizes;
@use '../../foundation/thypography' as thypography;
@use '../../foundation/utils' as utils;
@use '../icon' as icon;

.ch-pagination {

  // 1. Base

  @include spaces.inline-group(right, xs);

  vertical-align: middle;

  // 2. Item

  &-item {
    $box-size: calc(#{utils.calc-box-height(thypography.get-font-size(2), spaces.get-space(xs), spaces.get-space(xs))} + 2 * #{borders.$border-width});
    $icons: (
      first: icon.$icon-angle-double-left,
      previous: icon.$icon-angle-left,
      gap: icon.$icon-ellipsis,
      next: icon.$icon-angle-right,
      last: icon.$icon-angle-double-right
    );

    // 2.1. Base

    @include borders.border-radius(1);
    @include borders.border();

    display: flex;
    align-items: center;
    justify-content: center;

    color: colors.get-color(text, 1);
    padding-right: spaces.get-space(xs);
    padding-left: spaces.get-space(xs);
    height: $box-size;
    max-height: $box-size;
    min-width: $box-size;
    text-align: center;
    background-color: colors.get-color(neutral, 1);

    &:not(#{&}--previous):not(#{&}--next):not(.is-active) {
      @include breakpoints.media(to, tablet) {
        display: none;
      }
    }

    // 2.2. Interactions

    &:not(#{&}--gap) {
      &:hover:focus,
      &:focus,
      &:hover,
      &:active {
        color: currentColor;
        background-color: colors.get-color(neutral, 2);
      }

      &:hover:focus,
      &:focus,
      &:hover {
        border-color: colors.get-color(border, focus);
      }
  
      &:active {
        border-color: colors.get-color(border, active);
      }
    }

    // 2.3. Icon variations

    @each $type, $icon in $icons {
      &--#{$type} > *[class="ch-icon"] {
        @include icon.mask-icon($icon);

        height: icon.get-icon-size(m);
      }
    }

    // 2.4. Gap variations

    &--gap {
      border-color: transparent;

      > *[class="ch-icon"] {
        background: colors.get-color(text, 2);
      }

      > .ch-icon {
        color: colors.get-color(text, 2);
      }

      &:hover:focus,
      &:focus,
      &:hover,
      &:active {
        > *[class="ch-icon"] {
          background: colors.get-color(text, 1);
        }

        > .ch-icon {
          color: colors.get-color(text, 1);
        }
      }
    }

    // 2.5. Active state

    &.is-active,
    &.is-active:hover:focus,
    &.is-active:focus,
    &.is-active:hover,
    &.is-active:active {
      color: colors.get-color(primary);
      border-color: colors.get-color(primary);
      background-color: colors.get-color(neutral, 1);
    }
  }

  // 3. Field

  > .ch-field > label,
  > .ch-field > .ch-field-label {
    font-weight: thypography.get-font-weight(regular);
    margin-right: spaces.get-space(xs);
  }

  .ch-input {
    width: sizes.get-size(1);
  }

  // 4. Select

  > .ch-select {
    @include breakpoints.media(to, mobile) {
      display: none;
    }
  }

  // 3. Small variation
  
  $root: &;

  &--small {
    #{$root}-item {
      $box-size: calc(
        #{utils.calc-box-height(thypography.get-font-size(2), spaces.get-space(xxs), spaces.get-space(xxs))} + 2 * #{borders.$border-width}
      );

      padding-right: spaces.get-space(xxs);
      padding-left: spaces.get-space(xxs);
      height: $box-size;
      max-height: $box-size;
      min-width: $box-size;
    }
  }

  // 4. Disabled state

  > .ch-pagination-item:not(.ch-pagination-item--gap).is-disabled
  > .ch-pagination-item:not(.ch-pagination-item--gap)[disabled] {
    background-color: colors.get-color(neutral, 2);
  }

  @at-root .is-disabled .ch-pagination-item:not(.ch-pagination-item--gap) {
    background-color: colors.get-color(neutral, 2);
  }
}
