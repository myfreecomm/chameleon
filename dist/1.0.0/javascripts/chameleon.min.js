/**
 * Chameleon - Soluções visuais para projetos da Nexaas
 * Version: 1.0.0
 * Homepage: http://docs.chameleon.nexaas.com/
 * Licensed under MIT
 */
"use strict";var _createClass=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}();function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(e){if(Array.isArray(e)){for(var n=0,o=Array(e.length);n<e.length;n++)o[n]=e[n];return o}return Array.from(e)}void 0===window.Chameleon&&(window.Chameleon={}),void 0===window.Chameleon.Components&&(window.Chameleon.Components={}),void 0===window.Chameleon.Plugins&&(window.Chameleon.Plugins={}),Chameleon.init=function(){Object.keys(Chameleon.Components).map(function(e){var n=Chameleon.Components[e];Chameleon[e.toLowerCase()]=new n})},$(document).ready(function(){Chameleon.init()}),Chameleon.Components.Account=function(){var e=".ch-account-content",n=".ch-account-content .ch-dropdown-button",o=".ch-dropdown-menu-item",t="open";$(document).on("click",n,function(n){n.preventDefault(),$(e).find(o).removeClass(t),$(this).parent(o).addClass(t)})},Chameleon.Components.Dropdown=function(){var e=document.querySelectorAll(".ch-dropdown-toggle"),n=function(e){e.classList.remove("visible"),e.parentElement.classList.remove("active")},o=function(e){var o;!1===e.classList.contains("visible")?((o=e).classList.add("visible"),o.parentElement.classList.add("active"),t(o)):n(e)},t=function(e){var n,o,t="";(n=e.classList).remove.apply(n,["top","right","left","bottom"]),t=e.dataset.position?e.dataset.position.split(" "):["bottom","right"],(o=e.classList).add.apply(o,_toConsumableArray(t)),s(e)},s=function(e){$(e).offset().left<0&&(e.classList.remove("right"),e.classList.add("left")),document.body.scrollWidth>window.innerWidth&&(e.classList.remove("left"),e.classList.add("right"))};document.querySelectorAll(".ch-dropdown .btn-close").forEach(function(e){e.addEventListener("click",function(e){n(this.offsetParent)})});document.addEventListener("click",function(t){e.forEach(function(e){var s=e.nextElementSibling;if(t.target===e||t.target.parentElement===e)o(s);else{if($(t.target).parents(".ch-dropdown-content")[0]===s)return;n(s)}})})},Chameleon.Components.Menu=function(){var e=".ch-menu-item .ch-dropdown-button",n=".ch-expand-button > button",o=".ch-nav",t=".ch-menu",s=".ch-header-nav",a=".btn-more-options",i='[data-toogle="nav"]',c=".ch-dropdown",l=".ch-logo",d=".ch-nav, .ch-nav > .ch-menu",r=".fa-icon",h=".ch-header",u="open",f="active",m="hover",C="collapsed",v="has-shadow",p="sticky",g=function(){$(o).toggleClass(f),$(i).find(r).switchClass("fa-ellipsis-h-alt","fa-times"),$(o).hasClass(f)||$(c).removeClass(u)};$(document).on("click",e,function(){var e=$(this).parent(c),n=e.siblings();n.hasClass(u)&&n.removeClass(u),e.toggleClass(u),$(window).width()<=768&&!$(o).hasClass(f)&&g()}),$(document).on("click",n,function(){$(o).hasClass(m)&&$(o).removeClass(m),$(o).toggleClass(C)}),$(document).on("click",i,g),$(document).on("click",a,function(e){$(s).toggleClass(f),$(this).find(r).switchClass("fa-angle-double-left","fa-angle-double-right")}),$(document).on("mouseenter",d,function(){$(o).hasClass(C)&&$(o).addClass(m)}),$(document).on("mouseleave",o,function(){$(o).hasClass(C)&&$(o).removeClass(m)}),$(t).on("scroll",function(){$(this).scrollTop()>0?$(l).addClass(v):$(l).removeClass(v)}),$(document).on("scroll",function(){$(window).scrollTop()>0?$(h).addClass(p):$(h).removeClass(p)})},Chameleon.Components.Message=function(){(new(function(){function e(){_classCallCheck(this,e);var n=document.querySelector.bind(document);this.closeButton=n('[data-action="close"]'),this.contentFlashMessage=n('[data-type="flash_message"]')}return _createClass(e,[{key:"_addEventToClose",value:function(){this.closeButton.addEventListener("click",function(){this.parentNode.classList.add("ch-message--hide")})}},{key:"_addTimerToClose",value:function(){var e=this;setTimeout(function(){e.contentFlashMessage.classList.add("ch-message--hide")},4e3)}},{key:"_handleCloseMessage",value:function(){null!==this.contentFlashMessage&&(this._addEventToClose(),this._addTimerToClose())}}]),e}()))._handleCloseMessage()},Chameleon.Components.Modal=function(){var e=".ch-dialog-container, .action-dialog",n=".ch-dialog-container",o='[data-target="modal"]',t=".ch-overlay, .btn-close-dialog",s="active",a=$(".ch-dialog"),i=function(){a.find(e).removeClass(s),a.hide(300)};$(document).on("click",o,function(n){n.preventDefault();var o=$(this).data("modal"),t=$("[data-modal='"+o+"']");t.show(300),t.find(e).addClass(s),t.focus()}),$(document).on("click",t,i),a.on("keydown",function(e){$.keyboardClose(e,i)}),$(document).on("click",n,function(e){e.stopPropagation()})},Chameleon.Components.Search=function(){var e='[data-target="search"]',n=".ch-search-results",o=".ch-search-form-input",t=".ch-search-content",s=".ch-sidebar",a=".ch-search .btn-close, .ch-overlay",i=$(".ch-search"),c=i.find(n),l=$(s),d=function(){i.hide(300),l.find(".inside").is(":visible")&&l.focus()};$(document).on("click",e,function(e){e.preventDefault(),i.show(),i.find(n).hide(),i.find(o).val("").focus()}),$(document).on("click",t,function(e){e.stopPropagation()}),$(document).on("click",a,d),i.on("keydown",function(e){$.keyboardClose(e,d)}),$(document).on("input",o,function(){""===$(this).val()?c.slideUp(300):c.slideDown(300)})},Chameleon.Components.Table=function(){var e=".icon",n=".ch-sidebar",o='[data-table-detail="toggle"]',t=".row-link",s='[data-sidebar="toggle"]',a="right",i="left",c="inactive",l="up",d="down",r="hidden";$(document).on("click",o,function(n){n.stopPropagation();var o=$(this).parents("tr").next("tr"),t=$(this).find(e);o.toggleClass(r),t.switchClass(d,l)}),$(document).on("click",t,function(){getSelection().toString()||(window.location=$(this).data("href"))}),$(document).on("click",s,function(){var o=$(this).prev(n),t=$(this);t.find(e).switchClass(a,i),t.toggleClass(c),o.toggleClass(c)})},Chameleon.Utils=($.fn.switchClass=function(e,n){this.hasClass(e)?(this.removeClass(e),this.addClass(n)):(this.removeClass(n),this.addClass(e))},void($.keyboardClose=function(e,n){27===(e.keyCode||e.which)&&$(".ch-overlay").is(":visible")&&n()}));